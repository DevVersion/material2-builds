{"version":3,"file":"autocomplete.js","sourceRoot":"","sources":["../../../../src/lib/autocomplete/autocomplete.ts"],"names":[],"mappings":";;;;;;;;;AAAA,OAAO,EAEL,SAAS,EACT,eAAe,EACf,UAAU,EACV,KAAK,EACL,SAAS,EACT,WAAW,EACX,SAAS,EACT,iBAAiB,EAClB,MAAM,eAAe,CAAC;AACvB,OAAO,EAAC,QAAQ,EAAC,MAAM,SAAS,CAAC;AACjC,OAAO,EAAC,0BAA0B,EAAC,MAAM,2CAA2C,CAAC;AAErF;;;GAGG;AACH,IAAI,4BAA4B,GAAG,CAAC,CAAC;AAerC,IAAa,cAAc;IAX3B;QAgBE,0EAA0E;QAC1E,cAAS,GAA0B,OAAO,CAAC;QAE3C,oFAAoF;QACpF,cAAS,GAAG,KAAK,CAAC;QASlB,2EAA2E;QAC3E,OAAE,GAAW,qBAAmB,4BAA4B,EAAI,CAAC;IA+BnE,CAAC;IA7BC,2CAAkB,GAAlB;QACE,IAAI,CAAC,WAAW,GAAG,IAAI,0BAA0B,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,QAAQ,EAAE,CAAC;IAC7E,CAAC;IAED;;;OAGG;IACH,sCAAa,GAAb,UAAc,SAAiB;QAC7B,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;YACf,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,SAAS,GAAG,SAAS,CAAC;QACjD,CAAC;IACH,CAAC;IAED,8DAA8D;IAC9D,uCAAc,GAAd;QAAA,iBAEC;QADC,OAAO,CAAC,OAAO,EAAE,CAAC,IAAI,CAAC,cAAM,OAAA,KAAI,CAAC,SAAS,GAAG,CAAC,CAAC,KAAI,CAAC,OAAO,CAAC,MAAM,EAAtC,CAAsC,CAAC,CAAC;IACvE,CAAC;IAED,8EAA8E;IAC9E,sCAAa,GAAb;QACE,MAAM,CAAC;YACL,8BAA8B,EAAE,IAAI,CAAC,SAAS,KAAK,OAAO;YAC1D,8BAA8B,EAAE,IAAI,CAAC,SAAS,KAAK,OAAO;YAC1D,0BAA0B,EAAE,IAAI,CAAC,SAAS;YAC1C,yBAAyB,EAAE,CAAC,IAAI,CAAC,SAAS;SAC3C,CAAC;IACJ,CAAC;IAEH,qBAAC;AAAD,CAAC,AAlDD,IAkDC;AAvCyB;IAAvB,SAAS,CAAC,WAAW,CAAC;8BAAW,WAAW;gDAAM;AAC/B;IAAnB,SAAS,CAAC,OAAO,CAAC;8BAAQ,UAAU;6CAAC;AACX;IAA1B,eAAe,CAAC,QAAQ,CAAC;8BAAU,SAAS;+CAAW;AAG/C;IAAR,KAAK,EAAE;;mDAAqC;AAhBlC,cAAc;IAX1B,SAAS,CAAC;QACT,QAAQ,EAAE,MAAM,CAAC,EAAE;QACnB,QAAQ,EAAE,mCAAmC;QAC7C,WAAW,EAAE,mBAAmB;QAChC,SAAS,EAAE,CAAC,kBAAkB,CAAC;QAC/B,aAAa,EAAE,iBAAiB,CAAC,IAAI;QACrC,QAAQ,EAAE,gBAAgB;QAC1B,IAAI,EAAE;YACJ,0BAA0B,EAAE,MAAM;SACnC;KACF,CAAC;GACW,cAAc,CAkD1B;SAlDY,cAAc","sourcesContent":["import {\n  AfterContentInit,\n  Component,\n  ContentChildren,\n  ElementRef,\n  Input,\n  QueryList,\n  TemplateRef,\n  ViewChild,\n  ViewEncapsulation\n} from '@angular/core';\nimport {MdOption} from '../core';\nimport {ActiveDescendantKeyManager} from '../core/a11y/activedescendant-key-manager';\n\n/**\n * Autocomplete IDs need to be unique across components, so this counter exists outside of\n * the component definition.\n */\nlet _uniqueAutocompleteIdCounter = 0;\n\nexport type AutocompletePositionY = 'above' | 'below';\n\n@Component({\n  moduleId: module.id,\n  selector: 'md-autocomplete, mat-autocomplete',\n  templateUrl: 'autocomplete.html',\n  styleUrls: ['autocomplete.css'],\n  encapsulation: ViewEncapsulation.None,\n  exportAs: 'mdAutocomplete',\n  host: {\n    '[class.mat-autocomplete]': 'true'\n  }\n})\nexport class MdAutocomplete implements AfterContentInit {\n\n  /** Manages active item in option list based on key events. */\n  _keyManager: ActiveDescendantKeyManager;\n\n  /** Whether the autocomplete panel displays above or below its trigger. */\n  positionY: AutocompletePositionY = 'below';\n\n  /** Whether the autocomplete panel should be visible, depending on option length. */\n  showPanel = false;\n\n  @ViewChild(TemplateRef) template: TemplateRef<any>;\n  @ViewChild('panel') panel: ElementRef;\n  @ContentChildren(MdOption) options: QueryList<MdOption>;\n\n  /** Function that maps an option's control value to its display value in the trigger. */\n  @Input() displayWith: (value: any) => string;\n\n  /** Unique ID to be used by autocomplete trigger's \"aria-owns\" property. */\n  id: string = `md-autocomplete-${_uniqueAutocompleteIdCounter++}`;\n\n  ngAfterContentInit() {\n    this._keyManager = new ActiveDescendantKeyManager(this.options).withWrap();\n  }\n\n  /**\n   * Sets the panel scrollTop. This allows us to manually scroll to display\n   * options below the fold, as they are not actually being focused when active.\n   */\n  _setScrollTop(scrollTop: number): void {\n    if (this.panel) {\n      this.panel.nativeElement.scrollTop = scrollTop;\n    }\n  }\n\n  /** Panel should hide itself when the option list is empty. */\n  _setVisibility() {\n    Promise.resolve().then(() => this.showPanel = !!this.options.length);\n  }\n\n  /** Sets a class on the panel based on its position (used to set y-offset). */\n  _getClassList() {\n    return {\n      'mat-autocomplete-panel-below': this.positionY === 'below',\n      'mat-autocomplete-panel-above': this.positionY === 'above',\n      'mat-autocomplete-visible': this.showPanel,\n      'mat-autocomplete-hidden': !this.showPanel\n    };\n  }\n\n}\n\n"]}
/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/cdk/a11y"),require("@angular/cdk/bidi"),require("@angular/cdk/coercion"),require("@angular/cdk/collections"),require("@angular/cdk/keycodes"),require("rxjs/operators/startWith"),require("@angular/forms"),require("@angular/material/form-field"),require("rxjs/observable/merge"),require("rxjs/Subject"),require("rxjs/Subscription"),require("@angular/material/core")):"function"==typeof define&&define.amd?define(["exports","@angular/core","@angular/cdk/a11y","@angular/cdk/bidi","@angular/cdk/coercion","@angular/cdk/collections","@angular/cdk/keycodes","rxjs/operators/startWith","@angular/forms","@angular/material/form-field","rxjs/observable/merge","rxjs/Subject","rxjs/Subscription","@angular/material/core"],t):t((e.ng=e.ng||{},e.ng.material=e.ng.material||{},e.ng.material.chips=e.ng.material.chips||{}),e.ng.core,e.ng.cdk.a11y,e.ng.cdk.bidi,e.ng.cdk.coercion,e.ng.cdk.collections,e.ng.cdk.keycodes,e.Rx.Observable,e.ng.forms,e.ng.material.formField,e.Rx.Observable,e.Rx,e.Rx,e.ng.material.core)}(this,function(e,t,i,n,o,r,s,c,u,a,h,p,l,f){"use strict";function d(e,t){function i(){this.constructor=e}_(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}var _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},b=function(){function e(e,t,i){void 0===i&&(i=!1),this.source=e,this.selected=t,this.isUserInput=i}return e}(),g=function(){function e(e,t){this._renderer=e,this._elementRef=t}return e}(),y=f.mixinColor(f.mixinDisabled(g),"primary"),m=function(){function e(){}return e}(),v=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n._elementRef=i,n}return d(t,e),Object.defineProperty(t.prototype,"selected",{get:function(){return this._selected},set:function(e){this._selected=o.coerceBooleanProperty(e),this.selectionChange.emit({source:this,isUserInput:!1,selected:e})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return void 0!=this._value?this._value:this._elementRef.nativeElement.textContent},set:function(e){this._value=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selectable",{get:function(){return this._selectable},set:function(e){this._selectable=o.coerceBooleanProperty(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"removable",{get:function(){return this._removable},set:function(e){this._removable=o.coerceBooleanProperty(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ariaSelected",{get:function(){return this.selectable?this.selected.toString():null},enumerable:!0,configurable:!0}),t.prototype.ngOnDestroy=function(){this.destroyed.emit({chip:this})},t.prototype.select=function(){this._selected=!0,this.selectionChange.emit({source:this,isUserInput:!1,selected:!0})},t.prototype.deselect=function(){this._selected=!1,this.selectionChange.emit({source:this,isUserInput:!1,selected:!1})},t.prototype.selectViaInteraction=function(){this._selected=!0,this.selectionChange.emit({source:this,isUserInput:!0,selected:!0})},t.prototype.toggleSelected=function(e){return void 0===e&&(e=!1),this._selected=!this.selected,this.selectionChange.emit({source:this,isUserInput:e,selected:this._selected}),this.selected},t.prototype.focus=function(){this._elementRef.nativeElement.focus(),this._onFocus.next({chip:this})},t.prototype.remove=function(){this.removable&&this.removed.emit({chip:this})},t.prototype._handleClick=function(e){this.disabled||(e.preventDefault(),e.stopPropagation(),this.focus())},t.prototype._handleKeydown=function(e){if(!this.disabled)switch(e.keyCode){case s.DELETE:case s.BACKSPACE:this.remove(),e.preventDefault();break;case s.SPACE:this.selectable&&this.toggleSelected(!0),e.preventDefault()}},t.prototype._blur=function(){this._hasFocus=!1,this._onBlur.next({chip:this})},t}(y),C=function(){function e(e){this._parentChip=e}return e.prototype._handleClick=function(){this._parentChip.removable&&this._parentChip.remove()},e}(),I=function(){function e(e,t){this.source=e,this.value=t}return e}(),x=function(){function e(e,t,i,n,o,r,s){this._renderer=e,this._elementRef=t,this._changeDetectorRef=i,this._dir=n,this._parentForm=o,this._parentFormGroup=r,this.ngControl=s,this.ngControl&&(this.ngControl.valueAccessor=this)}return Object.defineProperty(e.prototype,"selected",{get:function(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"role",{get:function(){return this.empty?null:"listbox"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"multiple",{get:function(){return this._multiple},set:function(e){this._multiple=o.coerceBooleanProperty(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"compareWith",{get:function(){return this._compareWith},set:function(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){this.writeValue(e),this._value=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._id||this._uid},set:function(e){this._id=e,this.stateChanges.next()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"required",{get:function(){return this._required},set:function(e){this._required=o.coerceBooleanProperty(e),this.stateChanges.next()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"placeholder",{get:function(){return this._chipInput?this._chipInput.placeholder:this._placeholder},set:function(e){this._placeholder=e,this.stateChanges.next()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"focused",{get:function(){return this.chips.some(function(e){return e._hasFocus})||this._chipInput&&this._chipInput.focused},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return(!this._chipInput||this._chipInput.empty)&&0===this.chips.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shouldPlaceholderFloat",{get:function(){return!this.empty||this.focused},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return this.ngControl?this.ngControl.disabled:this._disabled},set:function(e){this._disabled=o.coerceBooleanProperty(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"errorState",{get:function(){var e=this.ngControl&&this.ngControl.invalid,t=this.ngControl&&this.ngControl.touched,i=this._parentFormGroup&&this._parentFormGroup.submitted||this._parentForm&&this._parentForm.submitted;return!(!e||!t&&!i)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"selectable",{get:function(){return this._selectable},set:function(e){this._selectable=o.coerceBooleanProperty(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tabIndex",{set:function(e){this._userTabIndex=e,this._tabIndex=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"chipSelectionChanges",{get:function(){return h.merge.apply(void 0,this.chips.map(function(e){return e.selectionChange}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"chipFocusChanges",{get:function(){return h.merge.apply(void 0,this.chips.map(function(e){return e._onFocus}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"chipBlurChanges",{get:function(){return h.merge.apply(void 0,this.chips.map(function(e){return e._onBlur}))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"chipRemoveChanges",{get:function(){return h.merge.apply(void 0,this.chips.map(function(e){return e.destroy}))},enumerable:!0,configurable:!0}),e.prototype.ngAfterContentInit=function(){var e=this;this._keyManager=new i.FocusKeyManager(this.chips).withWrap(),this._tabOutSubscription=this._keyManager.tabOut.subscribe(function(){e._tabIndex=-1,setTimeout(function(){return e._tabIndex=e._userTabIndex||0})}),this._changeSubscription=this.chips.changes.pipe(c.startWith(null)).subscribe(function(){e._resetChips(),e._initializeSelection(),e._updateTabIndex(),e._updateFocusForDestroyedChips()})},e.prototype.ngOnInit=function(){this._selectionModel=new r.SelectionModel(this.multiple,void 0,!1),this.stateChanges.next()},e.prototype.ngOnDestroy=function(){this._tabOutSubscription.unsubscribe(),this._changeSubscription&&this._changeSubscription.unsubscribe(),this._dropSubscriptions()},e.prototype.registerInput=function(e){this._chipInput=e},e.prototype.setDescribedByIds=function(e){this._ariaDescribedby=e.join(" ")},e.prototype.writeValue=function(e){this.chips&&this._setSelectionByValue(e,!1)},e.prototype.registerOnChange=function(e){this._onChange=e},e.prototype.registerOnTouched=function(e){this._onTouched=e},e.prototype.setDisabledState=function(e){this.disabled=e,this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e),this.stateChanges.next()},e.prototype.onContainerClick=function(){this.focus()},e.prototype.focus=function(){this._chipInput&&this._chipInput.focused||(this.chips.length>0?(this._keyManager.setFirstItemActive(),this.stateChanges.next()):(this._focusInput(),this.stateChanges.next()))},e.prototype._focusInput=function(){this._chipInput&&this._chipInput.focus()},e.prototype._keydown=function(e){var t=e.keyCode,i=e.target,n=this._isInputEmpty(i),o=this._dir&&"rtl"==this._dir.value,r=t===(o?s.RIGHT_ARROW:s.LEFT_ARROW),c=t===(o?s.LEFT_ARROW:s.RIGHT_ARROW),u=t===s.BACKSPACE;if(n&&u)return this._keyManager.setLastItemActive(),void e.preventDefault();i&&i.classList.contains("mat-chip")&&(r?(this._keyManager.setPreviousItemActive(),e.preventDefault()):c?(this._keyManager.setNextItemActive(),e.preventDefault()):this._keyManager.onKeydown(e)),this.stateChanges.next()},e.prototype._updateTabIndex=function(){this._tabIndex=this._userTabIndex||(0===this.chips.length?-1:0)},e.prototype._updateKeyManager=function(e){var t=this.chips.toArray().indexOf(e);this._isValidIndex(t)&&(e._hasFocus&&(t<this.chips.length-1?this._keyManager.setActiveItem(t):t-1>=0&&this._keyManager.setActiveItem(t-1)),this._keyManager.activeItemIndex===t&&(this._lastDestroyedIndex=t))},e.prototype._updateFocusForDestroyedChips=function(){var e=this.chips;if(null!=this._lastDestroyedIndex&&e.length>0){var t=Math.min(this._lastDestroyedIndex,e.length-1);this._keyManager.setActiveItem(t);var i=this._keyManager.activeItem;i&&i.focus()}this._lastDestroyedIndex=null},e.prototype._isValidIndex=function(e){return e>=0&&e<this.chips.length},e.prototype._isInputEmpty=function(e){if(e&&"input"===e.nodeName.toLowerCase()){return!e.value}return!1},e.prototype._setSelectionByValue=function(e,t){var i=this;if(void 0===t&&(t=!0),this._clearSelection(),this.chips.forEach(function(e){return e.deselect()}),Array.isArray(e))e.forEach(function(e){return i._selectValue(e,t)}),this._sortValues();else{var n=this._selectValue(e,t);if(n){var o=this.chips.toArray().indexOf(n);t?this._keyManager.setActiveItem(o):this._keyManager.updateActiveItemIndex(o)}}},e.prototype._selectValue=function(e,t){var i=this;void 0===t&&(t=!0);var n=this.chips.find(function(t){return null!=t.value&&i._compareWith(t.value,e)});return n&&(t?n.selectViaInteraction():n.select(),this._selectionModel.select(n)),n},e.prototype._initializeSelection=function(){var e=this;Promise.resolve().then(function(){(e.ngControl||e._value)&&(e._setSelectionByValue(e.ngControl?e.ngControl.value:e._value,!1),e.stateChanges.next())})},e.prototype._clearSelection=function(e){this._selectionModel.clear(),this.chips.forEach(function(t){t!==e&&t.deselect()}),this.stateChanges.next()},e.prototype._sortValues=function(){var e=this;this._multiple&&(this._selectionModel.clear(),this.chips.forEach(function(t){t.selected&&e._selectionModel.select(t)}),this.stateChanges.next())},e.prototype._propagateChanges=function(e){var t=null;t=Array.isArray(this.selected)?this.selected.map(function(e){return e.value}):this.selected?this.selected.value:e,this._value=t,this.change.emit(new I(this,t)),this.valueChange.emit(t),this._onChange(t),this._changeDetectorRef.markForCheck()},e.prototype._blur=function(){var e=this;this.disabled||(this._chipInput?setTimeout(function(){e.focused||e._markAsTouched()}):this._markAsTouched())},e.prototype._markAsTouched=function(){this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next()},e.prototype._resetChips=function(){this._dropSubscriptions(),this._listenToChipsFocus(),this._listenToChipsSelection(),this._listenToChipsRemoved()},e.prototype._dropSubscriptions=function(){this._chipFocusSubscription&&(this._chipFocusSubscription.unsubscribe(),this._chipFocusSubscription=null),this._chipBlurSubscription&&(this._chipBlurSubscription.unsubscribe(),this._chipBlurSubscription=null),this._chipSelectionSubscription&&(this._chipSelectionSubscription.unsubscribe(),this._chipSelectionSubscription=null)},e.prototype._listenToChipsSelection=function(){var e=this;this._chipSelectionSubscription=this.chipSelectionChanges.subscribe(function(t){t.source.selected?e._selectionModel.select(t.source):e._selectionModel.deselect(t.source),e.multiple||e.chips.forEach(function(t){!e._selectionModel.isSelected(t)&&t.selected&&t.deselect()}),t.isUserInput&&e._propagateChanges()})},e.prototype._listenToChipsFocus=function(){var e=this;this._chipFocusSubscription=this.chipFocusChanges.subscribe(function(t){var i=e.chips.toArray().indexOf(t.chip);e._isValidIndex(i)&&e._keyManager.updateActiveItemIndex(i),e.stateChanges.next()}),this._chipBlurSubscription=this.chipBlurChanges.subscribe(function(t){e._blur(),e.stateChanges.next()})},e.prototype._listenToChipsRemoved=function(){var e=this;this._chipRemoveSubscription=this.chipRemoveChanges.subscribe(function(t){e._updateKeyManager(t.chip)})},e}(),O=function(){function e(e){this._elementRef=e,this._inputElement=this._elementRef.nativeElement}return Object.defineProperty(e.prototype,"chipList",{set:function(e){e&&(this._chipList=e,this._chipList.registerInput(this))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"addOnBlur",{get:function(){return this._addOnBlur},set:function(e){this._addOnBlur=o.coerceBooleanProperty(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){var e=this._inputElement.value;return null==e||""===e},enumerable:!0,configurable:!0}),e.prototype._keydown=function(e){this._emitChipEnd(e)},e.prototype._blur=function(){this.addOnBlur&&this._emitChipEnd(),this.focused=!1,this._chipList.focused||this._chipList._blur(),this._chipList.stateChanges.next()},e.prototype._focus=function(){this.focused=!0,this._chipList.stateChanges.next()},e.prototype._emitChipEnd=function(e){!this._inputElement.value&&e&&this._chipList._keydown(e),(!e||this.separatorKeyCodes.indexOf(e.keyCode)>-1)&&(this.chipEnd.emit({input:this._inputElement,value:this._inputElement.value}),e&&e.preventDefault())},e.prototype.focus=function(){this._inputElement.focus()},e}(),S=function(){function e(){}return e}();e.MatChipsModule=S,e.MatChipListChange=I,e.MatChipList=x,e.MatChipSelectionChange=b,e.MatChipBase=g,e._MatChipMixinBase=y,e.MatBasicChip=m,e.MatChip=v,e.MatChipRemove=C,e.MatChipInput=O,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=/home/travis/build/angular/material2/dist/bundles/material-chips.umd.min.js.map
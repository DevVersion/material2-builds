/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/common"),require("@angular/cdk/overlay"),require("@angular/cdk/portal"),require("@angular/cdk/a11y"),require("@angular/material/core"),require("@angular/cdk/keycodes"),require("rxjs/operators/filter"),require("rxjs/operators/startWith"),require("@angular/cdk/bidi"),require("rxjs/observable/defer"),require("rxjs/Subject"),require("@angular/animations"),require("@angular/platform-browser"),require("rxjs/operators/first"),require("rxjs/observable/of")):"function"==typeof define&&define.amd?define(["exports","@angular/core","@angular/common","@angular/cdk/overlay","@angular/cdk/portal","@angular/cdk/a11y","@angular/material/core","@angular/cdk/keycodes","rxjs/operators/filter","rxjs/operators/startWith","@angular/cdk/bidi","rxjs/observable/defer","rxjs/Subject","@angular/animations","@angular/platform-browser","rxjs/operators/first","rxjs/observable/of"],e):e((t.ng=t.ng||{},t.ng.material=t.ng.material||{},t.ng.material.dialog=t.ng.material.dialog||{}),t.ng.core,t.ng.common,t.ng.cdk.overlay,t.ng.cdk.portal,t.ng.cdk.a11y,t.ng.material.core,t.ng.cdk.keycodes,t.Rx.Observable,t.Rx.Observable,t.ng.cdk.bidi,t.Rx.Observable,t.Rx,t.ng.animations,t.ng.platformBrowser,t.Rx.Observable,t.Rx.Observable)}(this,function(t,e,o,n,r,a,i,s,l,c,u,p,f,h,g,d,_){"use strict";function y(t,e){function o(){this.constructor=t}C(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}function m(){throw Error("Attempting to attach dialog content after content is already attached")}function v(t){return function(){return t.scrollStrategies.block()}}function b(t){return i.extendObject(new O,t)}var C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])},O=function(){function t(){}return t}(),D=function(t){function e(e,o,n,r){var a=t.call(this)||this;return a._elementRef=e,a._focusTrapFactory=o,a._changeDetectorRef=n,a._document=r,a}return y(e,t),e.prototype.attachComponentPortal=function(t){return this._portalOutlet.hasAttached()&&m(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachComponentPortal(t)},e.prototype.attachTemplatePortal=function(t){return this._portalOutlet.hasAttached()&&m(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachTemplatePortal(t)},e.prototype._trapFocus=function(){this._focusTrap||(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)),this._focusTrap.focusInitialElementWhenReady()},e.prototype._restoreFocus=function(){var t=this._elementFocusedBeforeDialogWasOpened;t&&"function"==typeof t.focus&&t.focus(),this._focusTrap&&this._focusTrap.destroy()},e.prototype._savePreviouslyFocusedElement=function(){var t=this;this._document&&(this._elementFocusedBeforeDialogWasOpened=this._document.activeElement,Promise.resolve().then(function(){return t._elementRef.nativeElement.focus()}))},e.prototype._onAnimationDone=function(t){"enter"===t.toState?this._trapFocus():"exit"===t.toState&&this._restoreFocus(),this._animationStateChanged.emit(t)},e.prototype._onAnimationStart=function(t){this._animationStateChanged.emit(t)},e.prototype._startExitAnimation=function(){this._state="exit",this._changeDetectorRef.markForCheck()},e}(r.BasePortalOutlet),k=0,R=function(){function t(t,e,o){void 0===o&&(o="mat-dialog-"+k++);var n=this;this._overlayRef=t,this._containerInstance=e,this.id=o,e._animationStateChanged.pipe(l.filter(function(t){return"done"===t.phaseName&&"enter"===t.toState}),d.first()).subscribe(function(){n._afterOpen.next(),n._afterOpen.complete()}),e._animationStateChanged.pipe(l.filter(function(t){return"done"===t.phaseName&&"exit"===t.toState}),d.first()).subscribe(function(){n._overlayRef.dispose(),n._afterClosed.next(n._result),n._afterClosed.complete(),n.componentInstance=null})}return t.prototype.close=function(t){var e=this;this._result=t,this._containerInstance._animationStateChanged.pipe(l.filter(function(t){return"start"===t.phaseName}),d.first()).subscribe(function(){e._beforeClose.next(t),e._beforeClose.complete(),e._overlayRef.detachBackdrop()}),this._containerInstance._startExitAnimation()},t.prototype.afterOpen=function(){return this._afterOpen.asObservable()},t.prototype.afterClosed=function(){return this._afterClosed.asObservable()},t.prototype.beforeClose=function(){return this._beforeClose.asObservable()},t.prototype.backdropClick=function(){return this._overlayRef.backdropClick()},t.prototype.keydownEvents=function(){return this._overlayRef.keydownEvents()},t.prototype.updatePosition=function(t){var e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this},t.prototype.updateSize=function(t,e){return void 0===t&&(t="auto"),void 0===e&&(e="auto"),this._getPositionStrategy().width(t).height(e),this._overlayRef.updatePosition(),this},t.prototype._getPositionStrategy=function(){return this._overlayRef.getConfig().positionStrategy},t}(),x=new e.InjectionToken("MatDialogData"),A=new e.InjectionToken("mat-dialog-scroll-strategy"),P={provide:A,deps:[n.Overlay],useFactory:v},T=function(){function t(t,e,o,n,r){var a=this;this._overlay=t,this._injector=e,this._scrollStrategy=n,this._parentDialog=r,!r&&o&&o.subscribe(function(){return a.closeAll()})}return Object.defineProperty(t.prototype,"openDialogs",{get:function(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"afterOpen",{get:function(){return this._parentDialog?this._parentDialog.afterOpen:this._afterOpenAtThisLevel},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_afterAllClosed",{get:function(){var t=this._parentDialog;return t?t._afterAllClosed:this._afterAllClosedAtThisLevel},enumerable:!0,configurable:!0}),t.prototype.open=function(t,e){var o=this;if(e=b(e),e.id&&this.getDialogById(e.id))throw Error('Dialog with id "'+e.id+'" exists already. The dialog id must be unique.');var n=this._createOverlay(e),r=this._attachDialogContainer(n,e),a=this._attachDialogContent(t,r,n,e);return this.openDialogs.push(a),a.afterClosed().subscribe(function(){return o._removeOpenDialog(a)}),this.afterOpen.next(a),a},t.prototype.closeAll=function(){for(var t=this.openDialogs.length;t--;)this.openDialogs[t].close()},t.prototype.getDialogById=function(t){return this.openDialogs.find(function(e){return e.id===t})},t.prototype._createOverlay=function(t){var e=this._getOverlayConfig(t);return this._overlay.create(e)},t.prototype._getOverlayConfig=function(t){var e=new n.OverlayConfig({positionStrategy:this._overlay.position().global(),scrollStrategy:this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight});return t.backdropClass&&(e.backdropClass=t.backdropClass),e},t.prototype._attachDialogContainer=function(t,e){var o=new r.ComponentPortal(D,e.viewContainerRef),n=t.attach(o);return n.instance._config=e,n.instance},t.prototype._attachDialogContent=function(t,o,n,a){var i=new R(n,o,a.id);if(a.hasBackdrop&&n.backdropClick().subscribe(function(){i.disableClose||i.close()}),n.keydownEvents().pipe(l.filter(function(t){return t.keyCode===s.ESCAPE&&!i.disableClose})).subscribe(function(){return i.close()}),t instanceof e.TemplateRef)o.attachTemplatePortal(new r.TemplatePortal(t,null,{$implicit:a.data,dialogRef:i}));else{var c=this._createInjector(a,i,o),u=o.attachComponentPortal(new r.ComponentPortal(t,void 0,c));i.componentInstance=u.instance}return i.updateSize(a.width,a.height).updatePosition(a.position),i},t.prototype._createInjector=function(t,e,o){var n=t&&t.viewContainerRef&&t.viewContainerRef.injector,a=new WeakMap;return a.set(R,e),a.set(D,o),a.set(x,t.data),a.set(u.Directionality,{value:t.direction,change:_.of()}),new r.PortalInjector(n||this._injector,a)},t.prototype._removeOpenDialog=function(t){var e=this.openDialogs.indexOf(t);e>-1&&(this.openDialogs.splice(e,1),this.openDialogs.length||this._afterAllClosed.next())},t}(),j=function(){function t(t){this.dialogRef=t}return t.prototype.ngOnChanges=function(t){var e=t._matDialogClose||t._matDialogCloseResult;e&&(this.dialogResult=e.currentValue)},t}(),S=function(){function t(t){this._container=t}return t.prototype.ngOnInit=function(){var t=this;this._container&&!this._container._ariaLabelledBy&&Promise.resolve().then(function(){return t._container._ariaLabelledBy=t.id})},t}(),w=function(){function t(){}return t}(),E=function(){function t(){}return t}(),I=function(){function t(){}return t}();t.MatDialogModule=I,t.MAT_DIALOG_DATA=x,t.MAT_DIALOG_SCROLL_STRATEGY=A,t.MAT_DIALOG_SCROLL_STRATEGY_PROVIDER_FACTORY=v,t.MAT_DIALOG_SCROLL_STRATEGY_PROVIDER=P,t.MatDialog=T,t.throwMatDialogContentAlreadyAttachedError=m,t.MatDialogContainer=D,t.MatDialogClose=j,t.MatDialogTitle=S,t.MatDialogContent=w,t.MatDialogActions=E,t.MatDialogConfig=O,t.MatDialogRef=R,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=/home/travis/build/angular/material2/dist/bundles/material-dialog.umd.min.js.map
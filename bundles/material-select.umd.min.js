/**
 * @license
 * Copyright Google LLC All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common"),require("@angular/cdk/a11y"),require("@angular/cdk/bidi"),require("@angular/cdk/coercion"),require("@angular/cdk/collections"),require("@angular/cdk/keycodes"),require("@angular/cdk/overlay"),require("rxjs/operators/filter"),require("rxjs/operators/first"),require("rxjs/operators/map"),require("rxjs/operators/startWith"),require("rxjs/operators/takeUntil"),require("@angular/forms"),require("@angular/material/core"),require("@angular/material/form-field"),require("rxjs/Observable"),require("rxjs/observable/merge"),require("rxjs/Subject"),require("@angular/animations")):"function"==typeof define&&define.amd?define(["exports","@angular/core","@angular/common","@angular/cdk/a11y","@angular/cdk/bidi","@angular/cdk/coercion","@angular/cdk/collections","@angular/cdk/keycodes","@angular/cdk/overlay","rxjs/operators/filter","rxjs/operators/first","rxjs/operators/map","rxjs/operators/startWith","rxjs/operators/takeUntil","@angular/forms","@angular/material/core","@angular/material/form-field","rxjs/Observable","rxjs/observable/merge","rxjs/Subject","@angular/animations"],t):t((e.ng=e.ng||{},e.ng.material=e.ng.material||{},e.ng.material.select=e.ng.material.select||{}),e.ng.core,e.ng.common,e.ng.cdk.a11y,e.ng.cdk.bidi,e.ng.cdk.coercion,e.ng.cdk.collections,e.ng.cdk.keycodes,e.ng.cdk.overlay,e.Rx.Observable,e.Rx.Observable,e.Rx.Observable,e.Rx.Observable,e.Rx.Observable,e.ng.forms,e.ng.material.core,e.ng.material.formField,e.Rx,e.Rx.Observable,e.Rx,e.ng.animations)}(this,function(e,t,i,n,o,r,s,a,l,c,h,p,u,_,f,g,d,y,m,v,b){"use strict";function O(e,t){function i(){this.constructor=e}E(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}function C(){return Error("Cannot change `multiple` mode of select after initialization.")}function M(){return Error("Value must be an array in multiple-selection mode.")}function k(){return Error("`compareWith` must be a function.")}function S(e){return function(){return e.scrollStrategies.reposition()}}var E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},x=b.trigger("transformPanel",[b.state("showing",b.style({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),b.state("showing-multiple",b.style({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),b.transition("void => *",[b.style({opacity:0,minWidth:"100%",transform:"scaleY(0)"}),b.animate("150ms cubic-bezier(0.25, 0.8, 0.25, 1)")]),b.transition("* => void",[b.animate("250ms 100ms linear",b.style({opacity:0}))])]),I=b.trigger("fadeInContent",[b.state("showing",b.style({opacity:1})),b.transition("void => showing",[b.style({opacity:0}),b.animate("150ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])]),R=new t.InjectionToken("mat-select-scroll-strategy"),P={provide:R,deps:[l.Overlay],useFactory:S},T=function(){function e(e,t){this.source=e,this.value=t}return e}(),D=function(){function e(e,t){this._renderer=e,this._elementRef=t}return e}(),j=g.mixinTabIndex(g.mixinDisabled(D)),A=function(){function e(){}return e}(),w=function(e){function i(t,i,n,o,r,s,a,l,c,h,p,u,_){var f=e.call(this,r,s)||this;return f._viewportRuler=t,f._changeDetectorRef=i,f._ngZone=n,f._defaultErrorStateMatcher=o,f._dir=a,f._parentForm=l,f._parentFormGroup=c,f._parentFormField=h,f.ngControl=p,f._scrollStrategyFactory=_,f.ngControl&&(f.ngControl.valueAccessor=f),f.tabIndex=parseInt(u)||0,f.id=f.id,f}return O(i,e),Object.defineProperty(i.prototype,"placeholder",{get:function(){return this._placeholder},set:function(e){this._placeholder=e,this.stateChanges.next()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"required",{get:function(){return this._required},set:function(e){this._required=r.coerceBooleanProperty(e),this.stateChanges.next()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"multiple",{get:function(){return this._multiple},set:function(e){if(this._selectionModel)throw C();this._multiple=r.coerceBooleanProperty(e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"compareWith",{get:function(){return this._compareWith},set:function(e){if("function"!=typeof e)throw k();this._compareWith=e,this._selectionModel&&this._initializeSelection()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"value",{get:function(){return this._value},set:function(e){e!==this._value&&(this.writeValue(e),this._value=e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"disableRipple",{get:function(){return this._disableRipple},set:function(e){this._disableRipple=r.coerceBooleanProperty(e)},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"id",{get:function(){return this._id},set:function(e){this._id=e||this._uid,this.stateChanges.next()},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"optionSelectionChanges",{get:function(){return m.merge.apply(void 0,this.options.map(function(e){return e.onSelectionChange}))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"_openedStream",{get:function(){return this.openedChange.pipe(c.filter(function(e){return e}),p.map(function(){}))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"_closedStream",{get:function(){return this.openedChange.pipe(c.filter(function(e){return!e}),p.map(function(){}))},enumerable:!0,configurable:!0}),i.prototype.ngOnInit=function(){this._selectionModel=new s.SelectionModel(this.multiple,void 0,!1),this.stateChanges.next()},i.prototype.ngAfterContentInit=function(){var e=this;this._initKeyManager(),this.options.changes.pipe(u.startWith(null),_.takeUntil(this._destroy)).subscribe(function(){e._resetOptions(),e._initializeSelection()})},i.prototype.ngDoCheck=function(){this.ngControl&&this._updateErrorState()},i.prototype.ngOnChanges=function(e){e.disabled&&this.stateChanges.next()},i.prototype.ngOnDestroy=function(){this._destroy.next(),this._destroy.complete()},i.prototype.toggle=function(){this.panelOpen?this.close():this.open()},i.prototype.open=function(){var e=this;!this.disabled&&this.options&&this.options.length&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement)["font-size"]),this._panelOpen=!0,this._calculateOverlayPosition(),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this._ngZone.onStable.asObservable().pipe(h.first()).subscribe(function(){e._triggerFontSize&&e.overlayDir.overlayRef&&e.overlayDir.overlayRef.overlayElement&&(e.overlayDir.overlayRef.overlayElement.style.fontSize=e._triggerFontSize+"px")}))},i.prototype.close=function(){this._panelOpen&&(this._panelOpen=!1,this._changeDetectorRef.markForCheck(),this.focus())},i.prototype.writeValue=function(e){this.options&&this._setSelectionByValue(e)},i.prototype.registerOnChange=function(e){this._onChange=e},i.prototype.registerOnTouched=function(e){this._onTouched=e},i.prototype.setDisabledState=function(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()},Object.defineProperty(i.prototype,"panelOpen",{get:function(){return this._panelOpen},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"selected",{get:function(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"triggerValue",{get:function(){if(this.empty)return"";if(this._multiple){var e=this._selectionModel.selected.map(function(e){return e.viewValue});return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue},enumerable:!0,configurable:!0}),i.prototype._isRtl=function(){return!!this._dir&&"rtl"===this._dir.value},i.prototype._handleKeydown=function(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))},i.prototype._handleClosedKeydown=function(e){var t=e.keyCode,i=t===a.DOWN_ARROW||t===a.UP_ARROW;t===a.ENTER||t===a.SPACE||this.multiple&&i?(e.preventDefault(),this.open()):this.multiple||this._keyManager.onKeydown(e)},i.prototype._handleOpenKeydown=function(e){var t=e.keyCode;t===a.HOME||t===a.END?(e.preventDefault(),t===a.HOME?this._keyManager.setFirstItemActive():this._keyManager.setLastItemActive()):t!==a.ENTER&&t!==a.SPACE||!this._keyManager.activeItem?this._keyManager.onKeydown(e):(e.preventDefault(),this._keyManager.activeItem._selectViaInteraction())},i.prototype._onPanelDone=function(){this.panelOpen?(this._scrollTop=0,this.openedChange.emit(!0)):(this.openedChange.emit(!1),this._panelDoneAnimating=!1,this.overlayDir.offsetX=0,this._changeDetectorRef.markForCheck())},i.prototype._onFadeInDone=function(){this._panelDoneAnimating=this.panelOpen,this._changeDetectorRef.markForCheck()},i.prototype._onFocus=function(){this.disabled||(this.focused=!0,this.stateChanges.next())},i.prototype._onBlur=function(){this.disabled||this.panelOpen||(this.focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())},i.prototype._onAttached=function(){var e=this;this.overlayDir.positionChange.pipe(h.first()).subscribe(function(){e._changeDetectorRef.detectChanges(),e._calculateOverlayOffsetX(),e.panel.nativeElement.scrollTop=e._scrollTop})},i.prototype._getPanelTheme=function(){return this._parentFormField?"mat-"+this._parentFormField.color:""},Object.defineProperty(i.prototype,"empty",{get:function(){return!this._selectionModel||this._selectionModel.isEmpty()},enumerable:!0,configurable:!0}),i.prototype._initializeSelection=function(){var e=this;Promise.resolve().then(function(){e._setSelectionByValue(e.ngControl?e.ngControl.value:e._value)})},i.prototype._setSelectionByValue=function(e,t){var i=this;if(void 0===t&&(t=!1),this.multiple&&e){if(!Array.isArray(e))throw M();this._clearSelection(),e.forEach(function(e){return i._selectValue(e,t)}),this._sortValues()}else{this._clearSelection();var n=this._selectValue(e,t);n&&this._keyManager.setActiveItem(this.options.toArray().indexOf(n))}this._changeDetectorRef.markForCheck()},i.prototype._selectValue=function(e,i){var n=this;void 0===i&&(i=!1);var o=this.options.find(function(i){try{return null!=i.value&&n._compareWith(i.value,e)}catch(e){return t.isDevMode()&&console.warn(e),!1}});return o&&(i?o._selectViaInteraction():o.select(),this._selectionModel.select(o),this.stateChanges.next()),o},i.prototype._clearSelection=function(e){this._selectionModel.clear(),this.options.forEach(function(t){t!==e&&t.deselect()}),this.stateChanges.next()},i.prototype._initKeyManager=function(){var e=this;this._keyManager=new n.ActiveDescendantKeyManager(this.options).withTypeAhead(),this._keyManager.tabOut.pipe(_.takeUntil(this._destroy)).subscribe(function(){return e.close()}),this._keyManager.change.pipe(_.takeUntil(this._destroy)).subscribe(function(){e._panelOpen&&e.panel?e._scrollActiveOptionIntoView():e._panelOpen||e.multiple||!e._keyManager.activeItem||e._keyManager.activeItem._selectViaInteraction()})},i.prototype._resetOptions=function(){var e=this;this.optionSelectionChanges.pipe(_.takeUntil(m.merge(this._destroy,this.options.changes)),c.filter(function(e){return e.isUserInput})).subscribe(function(t){e._onSelect(t.source),e.multiple||e.close()}),this._setOptionIds()},i.prototype._onSelect=function(e){var t=this._selectionModel.isSelected(e);this.multiple?(this._selectionModel.toggle(e),this.stateChanges.next(),t?e.deselect():e.select(),this._sortValues()):(this._clearSelection(null==e.value?void 0:e),null==e.value?this._propagateChanges(e.value):(this._selectionModel.select(e),this.stateChanges.next())),t!==this._selectionModel.isSelected(e)&&this._propagateChanges()},i.prototype._sortValues=function(){var e=this;this._multiple&&(this._selectionModel.clear(),this.options.forEach(function(t){t.selected&&e._selectionModel.select(t)}),this.stateChanges.next())},i.prototype._propagateChanges=function(e){var t=null;t=this.multiple?this.selected.map(function(e){return e.value}):this.selected?this.selected.value:e,this._value=t,this._onChange(t),this.selectionChange.emit(new T(this,t)),this.valueChange.emit(t),this._changeDetectorRef.markForCheck()},i.prototype._setOptionIds=function(){this._optionIds=this.options.map(function(e){return e.id}).join(" ")},i.prototype._highlightCorrectOption=function(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._getOptionIndex(this._selectionModel.selected[0])))},i.prototype._scrollActiveOptionIntoView=function(){var e=this._getItemHeight(),t=this._keyManager.activeItemIndex||0,i=g.MatOption.countGroupLabelsBeforeOption(t,this.options,this.optionGroups),n=(t+i)*e,o=this.panel.nativeElement.scrollTop;n<o?this.panel.nativeElement.scrollTop=n:n+e>o+256&&(this.panel.nativeElement.scrollTop=Math.max(0,n-256+e))},i.prototype.focus=function(){this._elementRef.nativeElement.focus()},i.prototype._getOptionIndex=function(e){return this.options.reduce(function(t,i,n){return void 0===t?e===i?n:void 0:t},void 0)},i.prototype._calculateOverlayPosition=function(){var e=this._getItemHeight(),t=this._getItemCount(),i=Math.min(t*e,256),n=t*e,o=n-i,r=this.empty?0:this._getOptionIndex(this._selectionModel.selected[0]);r+=g.MatOption.countGroupLabelsBeforeOption(r,this.options,this.optionGroups);var s=i/2;this._scrollTop=this._calculateOverlayScroll(r,s,o),this._offsetY=this._calculateOverlayOffsetY(r,s,o),this._checkOverlayWithinViewport(o)},i.prototype._calculateOverlayScroll=function(e,t,i){var n=this._getItemHeight(),o=n*e,r=n/2,s=o-t+r;return Math.min(Math.max(0,s),i)},Object.defineProperty(i.prototype,"_ariaLabel",{get:function(){return this.ariaLabelledby?null:this.ariaLabel||this.placeholder},enumerable:!0,configurable:!0}),i.prototype._getAriaActiveDescendant=function(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null},i.prototype._calculateOverlayOffsetX=function(){var e,t=this.overlayDir.overlayRef.overlayElement.getBoundingClientRect(),i=this._viewportRuler.getViewportSize(),n=this._isRtl(),o=this.multiple?60:32;if(this.multiple)e=44;else{var r=this._selectionModel.selected[0]||this.options.first;e=r&&r.group?32:16}n||(e*=-1);var s=0-(t.left+e-(n?o:0)),a=t.right+e-i.width+(n?0:o);s>0?e+=s+8:a>0&&(e-=a+8),this.overlayDir.offsetX=e,this.overlayDir.overlayRef.updatePosition()},i.prototype._calculateOverlayOffsetY=function(e,t,i){var n,o=this._getItemHeight(),r=(o-this._triggerRect.height)/2,s=Math.floor(256/o);if(0===this._scrollTop)n=e*o;else if(this._scrollTop===i){var a=this._getItemCount()-s,l=e-a,c=o-(this._getItemCount()*o-256)%o;n=l*o+c}else n=t-o/2;return-1*n-r},i.prototype._checkOverlayWithinViewport=function(e){var t=this._getItemHeight(),i=this._viewportRuler.getViewportSize(),n=this._triggerRect.top-8,o=i.height-this._triggerRect.bottom-8,r=Math.abs(this._offsetY),s=Math.min(this._getItemCount()*t,256),a=s-r-this._triggerRect.height;a>o?this._adjustPanelUp(a,o):r>n?this._adjustPanelDown(r,n,e):this._transformOrigin=this._getOriginBasedOnOption()},i.prototype._adjustPanelUp=function(e,t){var i=Math.round(e-t);this._scrollTop-=i,this._offsetY-=i,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")},i.prototype._adjustPanelDown=function(e,t,i){var n=Math.round(e-t);if(this._scrollTop+=n,this._offsetY+=n,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=i)return this._scrollTop=i,this._offsetY=0,void(this._transformOrigin="50% top 0px")},i.prototype._getOriginBasedOnOption=function(){var e=this._getItemHeight(),t=(e-this._triggerRect.height)/2;return"50% "+(Math.abs(this._offsetY)-t+e/2)+"px 0px"},i.prototype._getItemCount=function(){return this.options.length+this.optionGroups.length},i.prototype._getItemHeight=function(){return 3*this._triggerFontSize},i.prototype._updateErrorState=function(){var e=this.errorState,t=this._parentFormGroup||this._parentForm,i=this.errorStateMatcher||this._defaultErrorStateMatcher,n=this.ngControl?this.ngControl.control:null,o=i.isErrorState(n,t);o!==e&&(this.errorState=o,this.stateChanges.next())},i.prototype.setDescribedByIds=function(e){this._ariaDescribedby=e.join(" ")},i.prototype.onContainerClick=function(){this.focus(),this.open()},Object.defineProperty(i.prototype,"shouldPlaceholderFloat",{get:function(){return this._panelOpen||!this.empty},enumerable:!0,configurable:!0}),i}(j),F=function(){function e(){}return e}();e.MatSelectModule=F,e.SELECT_PANEL_MAX_HEIGHT=256,e.SELECT_PANEL_PADDING_X=16,e.SELECT_PANEL_INDENT_PADDING_X=32,e.SELECT_ITEM_HEIGHT_EM=3,e.SELECT_MULTIPLE_PANEL_PADDING_X=44,e.SELECT_PANEL_VIEWPORT_PADDING=8,e.MAT_SELECT_SCROLL_STRATEGY=R,e.MAT_SELECT_SCROLL_STRATEGY_PROVIDER_FACTORY=S,e.MAT_SELECT_SCROLL_STRATEGY_PROVIDER=P,e.MatSelectChange=T,e.MatSelectBase=D,e._MatSelectMixinBase=j,e.MatSelectTrigger=A,e.MatSelect=w,e.transformPanel=x,e.fadeInContent=I,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=/home/travis/build/angular/material2/dist/bundles/material-select.umd.min.js.map